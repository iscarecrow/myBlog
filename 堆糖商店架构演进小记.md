### 堆糖商店架构演进小记

#### 第一版架构 V1

- requireJS + handlebars + zepto + gulp + es5
- 线下 采用 requireJs 
- 线上 r.js  -> almond 包大小

##### 处理问题
- 页面级别打包,共有包内容，包大小
- 客户端的存储策略
- sdk设计，服务于js调用原生组件，原生调用js。采用jsbridge方案
- 数据漏斗模型设计，用于数据监控

#### 第二版架构 V2
react + redux + react-router + webpack + es6
- 数据层的抽象
- 组件层 区分  dumb smart

##### 需要思考的一些问题
1.action的复用性
2.component复用性
3.reducer的复用性
4.开发效率  hmr
5.webpack-server
6.服务端渲染的思考

##### 处理的问题
- 无痕打点方案
- abTest设计

#### 第三版架构 V3, doing

##### react-native  react 原生
- 数据层的通用性问题， redux
- 上层UI层基于不同平台的开发
- 客户端 提供 h5,rn, 原生的 通用Service设计
- 客户端提供更加通用的基建  网络库  图片库 存储  数据层等
- 数据同步的限定  

